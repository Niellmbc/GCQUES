<!DOCTYPE html>
<html lang="en">

<head>
  <title>Register Account</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link href="assets/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Prompt" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link href="assets/css/mdb.min.css" rel="stylesheet">
  <link href="assets/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="assets/css/stepper.css">
  <link href="assets/css/stepper.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <link rel="stylesheet" type="text/css" href="assets/css/animate.css">
  <link rel="stylesheet" type="text/css" href="assets/css/sweetalert-master/dist/sweetalert.css">
  <link rel="stylesheet" type="text/css" href="assets/css/sweetalert-master/dist/sweetalert.min.css">

  
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark navb scrolling-navbar">
    <div class="container">

      <!-- Brand -->
      <a class="navbar-brand" href="#">
        <img src="assets/img/gcueslogo.png" height="45" class="ml-3 d-inline-block align-top wow slideInRight" alt="">
      </a>

      <!-- Collapse -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Links -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">

      <!-- Left -->
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="landing.html">Home
            <span class="sr-only">(current)</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" target="_blank">About GCQUES</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" target="_blank">Download Now!</a>
        </li>

      </ul>

      <!-- Right -->
      <ul class="navbar-nav nav-flex-icons">
        <li class="nav-item mr-2">
          <a class="nav-link border border-light rounded" href="login.html">
            <i class="fa fa-user-plus mr-2"></i>Login
          </a>
        </li>

        <li class="nav-item active">
          <a class="nav-link border border-light rounded" data-toggle="modal" data-target="#modalConfirmDelete">
            <i class="fa fa-user-plus mr-2"></i>Get Queue
          </a>
        </li>
      </ul>

    </div>

  </div>
</nav>
<!-- Navbar -->


<!--Main layout-->
<main>
  <div class="container-fluid">
    <!--Section: Team v.1-->
    <section class="section team-section">

      <!--Grid row-->
      <div class="row text-center">

        <!-- Grid column -->
        <div class="col-md-12 flex-center">
          <div class="col-md-10 mb-12">

            <!--Card-->
            <div class="card card-cascade cascading-admin-card user-card">

             <h5 class="card-header secondary-color white-text text-center py-4">
              <strong>Choose Transaction</strong>
            </h5>

            <!--Card content-->
            <div class="card-body card-body-cascade">
              <!-- Grid row -->
              <div class="row">

                <!-- Grid column -->
                <div class="col-md-12 about-text">

                  <!--Basic textarea-->
                  <div class="row">

                    <div class="col-md-3">
                     <div class="md-form form-sm mb-0">
                      <input type="number" id="rStudentID" class="form-control form-control-sm" onkeyup="checkStudents()">
                      <label for="form8" class=""><i class="fa fa-student-card"></i>Student Number *Optional</label>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <select class="browser-default custom-select" id="rOffice" onclick="appendValue();">
                      <option value="" disabled selected>Choose Office</option>
                      <option value="Finance">Finance</option>
                      <option value="Registrar">Registrar</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <select class="browser-default custom-select" id="rTrans">
                      <option value="" disabled selected>Choose Transaction</option>
                      <option value="Enrolment">Enrolment</option>
                      <option value="Encoding">Encoding</option>
                      <option value="Document Request">Document Request</option>
                      <option value="Document Realising">Document Realising</option>
                      <option value="Bank Account">Bank Account</option>
                      <option value="Other Transaction">Other Transaction</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <select class="browser-default custom-select" id="rTypeStud">
                      <option value="" disabled selected>Type of Student</option>
                      <option value="New Student">New Student</option>
                      <option value="Old Student">Old Student</option>
                    </select>
                  </div>
                </div>

              </div>
              <!-- Grid column -->


            </div>
            <!-- Grid row -->
            <div class="row">
              <div class="col-md-6 offset-md-2">
                <button class="btn btn-outline-primary btn-block mt-3 text-center center" data-toggle='modal' data-target='#fluidModalRightInfo' onclick="sendtoModal()">Submit 
                  <i class="fa fa-paper-plane-o ml-1"></i>
                </button>
              </div>
            </div>

          </div>
          <!--/.Card content-->

        </div>
        <!--/.Card-->

      </div>
      <!-- Grid column -->
    </div>

  </div>
  <!--Grid row-->

</section>
<!--Section: Team v.1-->
</div>
</main>
<!-- /Main Layout -->
<!-- Fluid Modal Right Info -->
<div class="modal fade right" id="fluidModalRightInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog modal-full-height modal-right modal-notify modal-success" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Please Check Details</p>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" class="white-text">Ã—</span>
        </button>
      </div>

      <!--Body-->
      <div class="modal-body">
        <div class="text-center">
          <i class="fa fa-check fa-4x mb-3 animated rotateIn"></i>
          <p>Breakdown Details</p>
        </div>

        <!-- Grid row -->
        <div class="row">

          <!-- Grid column -->
          <div class="col-md-12 about-text">
            <!--Basic textarea-->
            <div class="row">
              <div class="col-md-12">
               <div class="md-form form-sm mb-0">
                <input type="text" id="rStudentID1" class="form-control form-control-sm" value=" ">
                <label for="form8" class=""><i class="fa fa-student-card"></i>Student Number *Optional</label>
              </div>
            </div>
            <div class="col-md-12">
             <div class="md-form form-sm mb-0">
              <input type="text" id="rOffice1" class="form-control form-control-sm" value=" ">
              <label for="form8" class=""><i class="fa fa-home"></i>Office</label>
            </div>
          </div>
          <div class="col-md-12">
           <div class="md-form form-sm mb-0">
            <input type="text" id="rTrans1" class="form-control form-control-sm" value=" ">
            <label for="form8" class=""><i class="fa fa-address-book"></i>Transaction</label>
          </div>
        </div>
        <div class="col-md-12">
         <div class="md-form form-sm mb-0">
          <input type="text" id="rTypeStud1" class="form-control form-control-sm" value=" ">
          <label for="form8" class=""><i class="fa fa-address-book"></i>Type of Student</label>
        </div>
      </div>
    </div>


  </div>

  <!--Footer-->
  <div class="modal-footer justify-content-center">
    <a type="button" class="btn btn-default waves-effect waves-light" onclick="newTrans()" data-dismiss="modal">Submit
      <i class="fa fa-paper-plane-o ml-1 text-white"></i>
    </a>
    <a type="button" class="btn btn-outline-danger waves-effect" data-dismiss="modal" >Cancel</a>
  </div>
</div>
<!--/.Content-->
</div>
</div>
<!-- /Fluid Modal Right Info -->
</body>

<script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
<script type="text/javascript" src="js/popper.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/mdb.min.js"></script>
<script type="text/javascript" src="js/Chart.min.js"></script>
<script type="text/javascript" src="js/Chart.bundle.min.js"></script>
<script type="text/javascript" src="js/cashier.js"></script>
<script type="text/javascript" src="js/wow.min.js"></script>
<script type="text/javascript" src="js/sweetalert-master/dist/sweetalert.min.js"></script>

<script>
        // SideNav Initialization
        $(".button-collapse").sideNav();
        $(document).ready(function () {
         $('.stepper').mdbStepper();
       })
                // Data Picker Initialization
                $('.datepicker').pickadate();

                var container = document.querySelector('.custom-scrollbar');
                Ps.initialize(container, {
                  wheelSpeed: 2,
                  wheelPropagation: true,
                  minScrollbarLength: 20
                });

              </script>
              <script>
                let students =[];
                fetch(url+'/tbl_student').then(res=>res.json()).then(function(res){
                  students = res;
                  console.log(students);
                });
                let data ={
                  // email:"",
                  // lname:"",
                  // fname:"",
                  // mname:"",
                  // bday:"",
                  // contact:"",
                  // street:"",
                  // brgy:"",
                  // city:"",
                  // country:"",
                  // img:'',
                  // uname:"",  
                  // pass:"",
                  // role:'New Student',
                  office:"",
                  transaction:"",
                  studentid:"",
                  studtype:"",
                }
                var trans = document.getElementById("rTrans");
                var office = document.getElementById("rOffice");
                var studentid = document.getElementById('rStudentID');
                var studenttype = document.getElementById('rTypeStud');
                let sendtoModal =()=>{
                 data.office = office.options[office.selectedIndex].value;
                 data.studenttype = studenttype.options[studenttype.selectedIndex].value;
                 data.transaction =trans.options[trans.selectedIndex].value;
                 data.studentid = document.getElementById('rStudentID').value;
                 document.getElementById('rOffice1').value=data.office;
                 document.getElementById('rTrans1').value=data.transaction;
                 document.getElementById('rTypeStud1').value=data.studenttype;
                 document.getElementById('rStudentID1').value=data.studentid;

               }

             </script>
             <script>
              let appendValue = ()=>{ 
                let chosenOffice = office.options[office.selectedIndex].value;
                if(chosenOffice=='Finance'){
                  $('#rTrans').empty();
                  var option1 = document.createElement('option');
                  var option2 = document.createElement('option');
                  var option3 = document.createElement('option');
                  var option4 = document.createElement('option');
                  option1.text ="Bank Account";
                  option1.value="Bank Account";
                  option2.text ="Other Transaction";
                  option2.value="Other Transaction";
                  option3.text ="Document Request";
                  option3.value="Document Request";
                  option4.text ="Enrolment";
                  option4.value="Enrolment";
                  trans.add(option1);
                  trans.add(option2);
                  trans.add(option3);
                  trans.add(option4);
                }else if(chosenOffice=='Registrar'){
                  $('#rTrans').empty();
                  var option1 = document.createElement('option');
                  var option2 = document.createElement('option');
                  var option3 = document.createElement('option');
                  var option4 = document.createElement('option');
                  option1.text ="Document Realising";
                  option1.value="Document Realising";
                  option2.text ="Other Transaction";
                  option2.value="Other Transaction";
                  option3.text ="Document Request";
                  option3.value="Document Request";
                  option4.text ="Enrolment";
                  option4.value="Enrolment";
                  trans.add(option1);
                  trans.add(option2);
                  trans.add(option3);
                  trans.add(option4);
                }
              }

              let checkStudents=()=>{
                var studentid1 = document.getElementById('rStudentID').value;
                for(let i=0;i<students.length;i++){
                  if(students[i].fldStudentNo==studentid1){
                    $('#rTypeStud').empty();
                    var option1= document.createElement('option');
                    option1.text ="Old Student";
                    option1.value="Old Student";
                    studenttype.add(option1);
                    // console.log('Old Student')
                  }else if(studentid1==0){
                    $('#rTypeStud').empty();
                    var option1 = document.createElement('option');
                    option1.text ="New Student";
                    option1.value="New Student";
                    studenttype.add(option1);
                  }
                }
              }
            </script>
            </html>